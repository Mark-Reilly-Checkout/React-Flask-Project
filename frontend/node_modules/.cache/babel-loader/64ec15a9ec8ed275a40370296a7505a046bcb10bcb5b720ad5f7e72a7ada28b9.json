{"ast":null,"code":"var _jsxFileName = \"/Users/mark.reilly/Documents/react-flask-project/frontend/src/components/ApplePay.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ApplePay = () => {\n  _s();\n  const containerRef = useRef(null);\n  useEffect(() => {\n    if (window.ApplePaySession && ApplePaySession.canMakePayments()) {\n      var _containerRef$current;\n      const el = document.createElement('apple-pay-button');\n      el.setAttribute('buttonstyle', 'black');\n      el.setAttribute('type', 'plain');\n      el.setAttribute('locale', 'en-US');\n      el.addEventListener('click', async () => {\n        try {\n          const sessionResponse = await axios.post('https://localhost:5002/api/apple-pay-session', {\n            validationURL: 'https://apple-pay-gateway.apple.com/paymentservices/startSession'\n          });\n          const paymentRequest = {\n            countryCode: 'US',\n            currencyCode: 'USD',\n            supportedNetworks: ['visa', 'masterCard', 'amex'],\n            merchantCapabilities: ['supports3DS'],\n            total: {\n              label: 'Your Company',\n              amount: '50.00'\n            }\n          };\n          const session = new window.ApplePaySession(3, paymentRequest);\n          session.onvalidatemerchant = event => {\n            session.completeMerchantValidation(sessionResponse.data);\n          };\n          session.onpaymentauthorized = async event => {\n            // Send payment data to your backend to complete the payment\n            const paymentResult = await axios.post('https://localhost:5002/api/apple-pay-payment', {\n              payment: event.payment\n            });\n            if (paymentResult.data.success) {\n              session.completePayment(window.ApplePaySession.STATUS_SUCCESS);\n            } else {\n              session.completePayment(window.ApplePaySession.STATUS_FAILURE);\n            }\n          };\n          session.begin();\n        } catch (err) {\n          console.error('Apple Pay error:', err);\n        }\n      });\n      (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.appendChild(el);\n    } else {\n      console.log(\"Apple Pay not available\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n            apple-pay-button {\n            --apple-pay-button-width: 200px;\n            --apple-pay-button-height: 30px;\n            --apple-pay-button-border-radius: 8px;\n            --apple-pay-button-padding: 0px;\n            --apple-pay-button-box-sizing: border-box;\n            display: block;\n            margin: 0 auto;\n            opacity: 0;\n            transform: translateY(20px);\n            animation: fadeInUp 0.6s ease-out forwards;\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n            }\n\n            apple-pay-button:hover {\n            transform: translateY(15px) scale(1.05);\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n            }\n\n            @keyframes fadeInUp {\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n            }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"Apple Pay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"text-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ApplePay, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = ApplePay;\nexport default ApplePay;\nvar _c;\n$RefreshReg$(_c, \"ApplePay\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","ApplePay","_s","containerRef","window","ApplePaySession","canMakePayments","_containerRef$current","el","document","createElement","setAttribute","addEventListener","sessionResponse","axios","post","validationURL","paymentRequest","countryCode","currencyCode","supportedNetworks","merchantCapabilities","total","label","amount","session","onvalidatemerchant","event","completeMerchantValidation","data","onpaymentauthorized","paymentResult","payment","success","completePayment","STATUS_SUCCESS","STATUS_FAILURE","begin","err","console","error","current","appendChild","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","ref","_c","$RefreshReg$"],"sources":["/Users/mark.reilly/Documents/react-flask-project/frontend/src/components/ApplePay.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nconst ApplePay = () => {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (window.ApplePaySession && ApplePaySession.canMakePayments()) {\n        const el = document.createElement('apple-pay-button');\n        el.setAttribute('buttonstyle', 'black');\n        el.setAttribute('type', 'plain');\n        el.setAttribute('locale', 'en-US');\n\n        el.addEventListener('click', async () => {\n            try {\n                const sessionResponse = await axios.post('https://localhost:5002/api/apple-pay-session', {\n                    validationURL: 'https://apple-pay-gateway.apple.com/paymentservices/startSession'\n                });\n\n                const paymentRequest = {\n                    countryCode: 'US',\n                    currencyCode: 'USD',\n                    supportedNetworks: ['visa', 'masterCard', 'amex'],\n                    merchantCapabilities: ['supports3DS'],\n                    total: {\n                        label: 'Your Company',\n                        amount: '50.00'\n                    }\n                };\n\n                const session = new window.ApplePaySession(3, paymentRequest);\n\n                session.onvalidatemerchant = (event) => {\n                    session.completeMerchantValidation(sessionResponse.data);\n                };\n\n                session.onpaymentauthorized = async (event) => {\n                    // Send payment data to your backend to complete the payment\n                    const paymentResult = await axios.post('https://localhost:5002/api/apple-pay-payment', {\n                        payment: event.payment\n                    });\n\n                    if (paymentResult.data.success) {\n                        session.completePayment(window.ApplePaySession.STATUS_SUCCESS);\n                    } else {\n                        session.completePayment(window.ApplePaySession.STATUS_FAILURE);\n                    }\n                };\n\n                session.begin();\n            } catch (err) {\n                console.error('Apple Pay error:', err);\n            }\n        });\n\n        containerRef.current?.appendChild(el);\n    } else {\n        console.log(\"Apple Pay not available\");\n    }\n}, []);\n  return (\n    <div>\n        <style>\n        {`\n            apple-pay-button {\n            --apple-pay-button-width: 200px;\n            --apple-pay-button-height: 30px;\n            --apple-pay-button-border-radius: 8px;\n            --apple-pay-button-padding: 0px;\n            --apple-pay-button-box-sizing: border-box;\n            display: block;\n            margin: 0 auto;\n            opacity: 0;\n            transform: translateY(20px);\n            animation: fadeInUp 0.6s ease-out forwards;\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n            }\n\n            apple-pay-button:hover {\n            transform: translateY(15px) scale(1.05);\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n            }\n\n            @keyframes fadeInUp {\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n            }\n        `}\n        </style>\n        \n      <h1 className=\"text-center\">Apple Pay</h1>\n      <div ref={containerRef} className=\"text-center\"></div>\n    </div>\n  );\n};\n\nexport default ApplePay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}